{{#with @model.family as |family|}}
  <Modal @id="family">
    <h1>{{capitalize family.namePlural}}</h1>
    <h2>Properties</h2>

    <p>In some parts of the website we refer to this product family in singular and sometimes in plural tense.</p>

    <Field::String
      @label='Plural name'
      @record={{family}}
      @attribute='namePlural'
    />

    <Field::String
      @label='Singular name'
      @record={{family}}
      @attribute='nameSingle'
    />

    <Field::String
      @label='Pitch'
      @legend='Explain to a layman in 10 seconds what this type of product family is and does. The long explanation will be done elsewhere on a blog page.'
      @record={{family}}
      @attribute='gist'
      @multiline='true'
    />

    <Field::String
      @label='Rank on website'
      @legend='Use numbers to indicate how you would want to rank the product families on the website. 1 goes to the top, 9 to the bottom.'
      @record={{family}}
      @attribute='order'
    />

    <h2>Relations</h2>

    <Field::ManyToOne
      @label="Products"
      @legend="All products belonging to {{family.namePlural}}."
      @record={{family}}
      @relation='products'
      @relationModel='product'
      @relationLabel='name'
      @route='secure.products.product'
    />

    <h2>Images</h2>

    <Field::ManyToMany
      @label="The 4 avatars"
      @legend="On the product overview page we show 4 images to represent this product family."
      @baseRecord={{family}}
      @baseModel="productFamily"
      @baseLabel="productFamilyImages"
      @joinModel="product-family-image"
      @targetModel="image"
      @targetLabel="alt"
      @targetRoute='secure.images.image'
      @disabled={{this.maxAvatarCountReached}}
    />

    <Fieldset>
      <ul class="images">
        {{#each family.productFamilyImages as |relation|}}
          <li>
            <p>{{relation.image.alt}}</p>
            <ResponsiveImage @image={{relation.image}} />
          </li>
        {{/each}}
      </ul>
    </Fieldset>

    <h2>Database</h2>

    <Field::String
      @label='Database ID'
      @record={{family}}
      @attribute='id'
      @disabled='true'
    />
  </Modal>
{{/with}}