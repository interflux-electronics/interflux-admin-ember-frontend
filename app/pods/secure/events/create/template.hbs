{{#let @model.event as |event|}}
  <Modal @id='event-create'>
    <h1>Create new event</h1>

    <Field::String
      @label='Event name'
      @record={{event}}
      @attribute='name'
      @localSave={{true}}
    />

    <Field::OneToMany
      @label='Country'
      @baseRecord={{event}}
      @baseLabel='country'
      @targetModel='country'
      @targetFilter='nameEnglish'
      @minKeyStrokes='2'
      @localSave={{true}}
    />

    <Field::String
      @label='City'
      @record={{event}}
      @attribute='city'
      @localSave={{true}}
    />

    <Field::DateString
      @label='Start date'
      @record={{event}}
      @attribute='startDate'
      @localSave={{true}}
    />

    <Field::DateString
      @label='End date'
      @record={{event}}
      @attribute='endDate'
      @localSave={{true}}
    />

    <p>Dates: {{event.datesCombined}}</p>
    <p>Has ended: {{event.hasEnded}}</p>

    <Field::String
      @label='Description'
      @record={{event}}
      @attribute='description'
      @multiline='true'
      @tools={{array 'bold' 'link' 'bullets'}}
      @localSave={{true}}
    />

    <Button
      @text='Save'
      @theme='big-green'
      @disabled={{this.preventSave}}
      @isBusy={{this.isSaving}}
      @onClick={{this.onSave}}
    />
  </Modal>
{{/let}}